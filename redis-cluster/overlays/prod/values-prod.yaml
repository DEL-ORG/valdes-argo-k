architecture: replication

image:
  repository: redis
  tag: 7.4.1

auth:
  enabled: true
  password: redis@12345

master:
  persistence:
    enabled: true
    size: 2Gi
  service:
    name: redis-headless # replicas use this to find master
  tls:
    enabled: true

replica:
  replicaCount: 3
  persistence:
    enabled: true
    size: 2Gi
  tls:
    enabled: true   # <--- important: replicas must use TLS too

tls:
  enabled: true
  autoGenerated: true
  # remove `port` here; Bitnami chart will handle it automatically

service:
  type: ClusterIP
  headless:
    enabled: true
    name: redis-headless

metrics:
  enabled: false
